<div class="container">
<div class="col-xs-12 col-12 col-md-4 form-group">
    <button mat-raised-button color="primary" (click)="returnToParkingDetail()">Return to parking detail</button>
</div>
<h1>Spot statistic of this parking</h1>



    <mat-card-header>

        <table class="table table-hover">
            <thead>
            <tr class="text-center">
                <th scope="col">Spot number #</th>
                <th scope="col">Hours have been taken</th>
                <th scope="col">Popularity(How many times was busy)</th>
            </tr>
            </thead>
            <tbody>
                    <tr *ngFor="let spotstatistic of statistic" class="text-center">
                            <th scope="row">{{spotstatistic.id}}</th> 
                            <th scope="row"><ion-option [value]="spotstatistic" *ngIf="spotstatistic.numberOfHours < 10000 && spotstatistic.numberOfHours > 0">{{spotstatistic.numberOfHours}}</ion-option>
                            <ion-option [value]="spotstatistic" *ngIf="spotstatistic.numberOfHours > 10000 || spotstatistic.numberOfHours < 0">The device is currently not working correctly in this 
                                parking lot. Please wait until it is repaired. We apologize. Please
                                call technical support {{setError()}}</ion-option></th>
                                <th scope="row"><ion-option [value]="spotstatistic" *ngIf="spotstatistic.numberOfEvents > 0">{{spotstatistic.numberOfHours}}</ion-option>
                                    <ion-option [value]="spotstatistic" *ngIf="spotstatistic.numberOfEvents === 0">The device is currently not working correctly in this 
                                parking lot. Please wait until it is repaired. We apologize. Please
                                call technical support {{setError()}}</ion-option></th>
                       </tr>  
                                   
                                          
            </tbody>
        </table>
       
    </mat-card-header>


<div class="row">

    <div class="col-xs-12 col-12 col-md-4 form-group">
        <label>Set start data period</label>
        <input type="text" class="form-control" placeholder="Datepicker" #dp="bsDatepicker" bsDatepicker
            [(ngModel)]="minDate"   (onHidden)="setMinData()"  >
    </div>

    <div class="col-xs-12 col-12 col-md-4 form-group">
        <label>Set finish data period</label>
        <input type="text" class="form-control" placeholder="Datepicker" #dp="bsDatepicker" bsDatepicker
               [(ngModel)]="maxDate"  (onHidden)="setMaxData()">
    </div>


    <div class="col-xs-12 col-12 col-md-4 form-group">
        <div>
            <label>Display statistic table of spots</label>
        </div>
        <div>
            <button mat-raised-button color="primary"                      
            (click)="addItem()" >Display table</button>
        </div>
    </div>

   



    <div class="col-xs-12 col-12 col-md-4 form-group">
        <button mat-raised-button color="primary" 
              (click)="showHoursGraphic()"
        [disabled]="statistic === undefined || statistic.length === 0 || error === true"
               >Display statistic hour graphic</button>
    </div>

    <div class="col-xs-12 col-12 col-md-4 form-group">
        <button mat-raised-button color="primary"
            (click)="showEventsGraphic()"
        [disabled]="statistic === undefined || statistic.length === 0 || error === true"
                >Display graphic of popularity spots</button>
    </div>

    <div class="col-xs-12 col-12 col-md-4 form-group">
        <button mat-raised-button color="primary" (click)="clear()"
        [disabled]="statistic === undefined || statistic.length === 0 || error === true"
         >Clear graphic</button>
    </div>


</div>

<div *ngIf="show === true " >
   <canvas id="canvas">{{ hoursChart }}</canvas>
</div>


<div *ngIf="show === true" >
    <canvas id="canvas">{{ eventsChart }}</canvas>
</div>

<div *ngIf="show === false" >
    {{setTrue()}}
</div>
</div>







  

