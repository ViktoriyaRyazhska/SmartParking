<agm-map [latitude]="49.83826"
         [longitude]="24.02324"
         [fullscreenControl]="true"
         [zoom]="10">
    <agm-direction *ngIf="dir" [drivingOptions]="dir.drivingOptions" [travelMode]="dir.travelMode" [origin]="dir.origin"
                   [destination]="dir.destination">
    </agm-direction>
    <agm-marker [latitude]="lat" [longitude]="lng" [draggable]="true"></agm-marker>
    <div *ngFor="let parking of parkings">
        <agm-marker [latitude]="parking.latitude" [longitude]="parking.longitude"
                    [iconUrl]="'/assets/images/icon_parking_info_40x38.png'">
            <agm-info-window [disableAutoPan]="false">
                <ul>
                    <li><b>Address:</b> {{parking.city}} / {{parking.street}} / {{parking.building}}</li>
                    <li><b>Distance:</b> {{parking.distance}} km</li>
                    <li><b>Spots:</b> {{parking.spotsCount}}</li>
                    <li><b>Spots available:</b> {{parking.availableSpotsCount}}</li>
                </ul>

                <button mat-button routerLink='/parkingdetail/{{parking.id}}' color="primary">Get detail</button>
                <button mat-button class="btn btn-success" (click)="getDirection(parking.latitude, parking.longitude)">
                    Start route!
                </button>
            </agm-info-window>
        </agm-marker>
    </div>
</agm-map>



